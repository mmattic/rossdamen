(function(){var m,i;m={AJAX_RETRY:"https://io.vtex.com.br/vtex.js/2.10.1/ajaxRetry.vtex",AJAX_ERROR:"https://io.vtex.com.br/vtex.js/2.10.1/ajaxError.vtex"},$.ajaxPrefilter(function(t,e,s){s.retry=function(t){return t.timeout&&(this.timeout=t.timeout),t.statusCodes&&(this.statusCodes=t.statusCodes),this.pipe(null,i(this,t))}}),i=function(u,n){var R,d;return d=n.times,R=u.timeout,function(t,e,s){var i,r,a,o;return i=this,a=new $.Deferred,o=u.getResponseHeader("Retry-After"),r=function(){$.ajax(i).retry({times:d-1,timeout:n.timeout,statusCodes:n.statusCodes}).pipe(a.resolve,a.reject)},1<d&&(!u.statusCodes||-1<$.inArray(t.status,u.statusCodes))?($(window).trigger(m.AJAX_RETRY,t),o&&(R=isNaN(o)?new Date(o).getTime()-$.now():1e3*parseInt(o,10),(isNaN(R)||R<0)&&(R=u.timeout)),void 0!==R?setTimeout(r,R):r()):("abort"===t.statusText&&"abort"===u.statusText||$(window).trigger(m.AJAX_ERROR,t),a.rejectWith(this,arguments)),a}}}).call(this);
//# sourceMappingURL=retry-ajax.min.js.map